import LayoutHandout from "@/components/layout/layoutHandout";

<LayoutHandout title="Preparing to release">

### Day 2:

1. Update the components with tokens
1. Prepare to the release
1. Run visual regression tests

We are picking up where we left yesterday. You have received a new pull request in your repository with a set of components according to your UI inventory. Please review it and make sure that everything is working.
If you didn't complete all the tasks yesterday, please revisit [coding practice](./coding-practice) page, and prepare your design tokens according instructions.

## 1. Update the components with tokens

Although the components were provided ready, the style values are hardcoded.

**Let's bring tokens into the code.**

## 2. Writing new components

The designers created a new component in Figma, and you need to code it to your library.

You van use a script to quickly add component template files:

```
yarn add-component <ComponentName>
```

For example, if you run `yarn add-component Avatar`, a new folder with two new files will be created at `design-system/src/components`:

- Avatar/
  - index.js
  - Avatar.stories.mdx

**Note**. When you add the component, it gets re-exported in the library index file,
which is `design-system/src/index.js`. If you want to rename or remove a component,
don't forget to change it accordingly.

### What do I code?

Check [https://component.gallery/](https://component.gallery/) to get ideas on how to fill your
component with code.

## 3. Tokenizing

1. Process the tokens with Styled Dictionary
1. [optional] Display the tokens in Storybook
1. Import the tokens to the components' files and use them in code

## 4. Visual regression tests

**Note**. _Creevey requires Docker to be installed._

To keep the system consistent, you should always provide visual references for your
components. This will make automatic testing work smoothly. This is how
you can do it:

1. Run the testing UI with `yarn test:ui`
2. Run the tests and examine the results
3. Noticed the inconcistency? Fix and run the tests again.
4. There is a change but you were expecting it? Approve.

**Hint**. _Use `yarn test:update` to approve all screenshots at once_

If you created a new component, or visualy changed the existing one, it
will always go with the change of their visual references. Notice the changes
files in `design-system/tests/referenceImages`, add them and commit. It is
a good habit to include your visual references in your pull request. And it
ensures the tests automation.

## Goals

Overall you have 1 hour 45 minutes to prepare the first version of your library for release. Call us to join you in breakout room if you have any questions.

</ LayoutHandout>
